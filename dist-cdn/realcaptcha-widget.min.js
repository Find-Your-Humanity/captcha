!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.RealCaptcha=t(require("react"),require("react-dom")):e.RealCaptcha=t(e.React,e.ReactDOM)}(this,(e,t)=>(()=>{"use strict";var n={20:(e,t,n)=>{var r=n(156),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:c.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var h=n(d),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=o(f,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=n(i[a]);t[c].references--}for(var s=r(e,o),l=0;l<i.length;l++){var u=n(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=s}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},132:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".captcha-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.captcha-button {\n  display: flex;\n  align-items: center;\n  width: 320px;\n  height: 60px;\n  background-color: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  padding: 0 16px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.captcha-button:hover {\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\n}\n\n.captcha-left {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  margin-right: 12px;\n}\n\n.checkbox {\n  width: 20px;\n  height: 20px;\n  border: 2px solid #ccc;\n  border-radius: 2px;\n  background-color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  user-select: none;\n}\n\n.checkbox.error {\n  border-color: #f44336;\n}\n\n.checkbox-inner {\n  width: 12px;\n  height: 12px;\n  background-color: transparent;\n  border-radius: 1px;\n  transition: all 0.2s ease;\n}\n\n.checkbox-inner.error {\n  background-color: transparent;\n}\n\n.loading-spinner {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n}\n\n.spinner {\n  width: 20px;\n  height: 20px;\n  border: 2px solid #e0e0e0;\n  border-top: 2px solid #4285f4;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.loading-text {\n  font-size: 10px;\n  color: #4285f4;\n  font-weight: 500;\n}\n\n.success-check {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n}\n\n.captcha-center {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.captcha-text {\n  font-size: 14px;\n  color: #333333;\n  font-weight: 500;\n}\n\n.captcha-right {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  margin-left: 12px;\n}\n\n.refresh-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 50%;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.refresh-button:hover {\n  background-color: #f5f5f5;\n}\n\n.error-message {\n  color: #f44336;\n  font-size: 12px;\n  font-weight: 500;\n  text-align: center;\n  margin-top: 4px;\n}\n\n/* 상태별 스타일 */\n.captcha-button.loading {\n  background-color: #f8f9fa;\n}\n\n.captcha-button.success {\n  background-color: #f1f8e9;\n  border-color: #4caf50;\n}\n\n.captcha-button.error {\n  background-color: #ffebee;\n  border-color: #f44336;\n} ",""]);const c=a},156:t=>{t.exports=e},299:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".image-captcha {\n  width: 400px;\n  background-color: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.captcha-header {\n  background-color: #f5f5f5;\n  padding: 16px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.header-text {\n  font-size: 14px;\n  color: #333333;\n  font-weight: 500;\n  text-align: center;\n  display: block;\n}\n\n.image-stage {\n  position: relative;\n  width: 100%;\n  /* 정사각 타일 그리드를 위해 비율을 1:1로 고정. 필요 시 natural ratio로 변경 가능 */\n  aspect-ratio: 1;\n  background-color: #e0e0e0;\n}\n\n.base-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.overlay-grid {\n  position: absolute;\n  inset: 0;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n  gap: 0;\n  pointer-events: none; /* 셀에서 다시 활성화 */\n}\n\n.overlay-cell {\n  position: relative;\n  pointer-events: auto;\n  background-clip: padding-box;\n}\n\n/* 시각적 그리드 라인 */\n.overlay-grid {\n  outline: 2.5px solid #e0e0e0;\n}\n.overlay-cell {\n  box-shadow: inset 0 0 0 1.25px #e0e0e0;\n}\n\n.image-item {\n  position: relative;\n  aspect-ratio: 1;\n  background-color: #ffffff;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-item:hover {\n  background-color: #f8f9fa;\n}\n\n.overlay-cell.selected {\n  background-color: #e3f2fd;\n}\n\n.image-placeholder { display: none; }\n\n.selection-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(66, 133, 244, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n}\n\n.captcha-controls {\n  background-color: #f5f5f5;\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid #e0e0e0;\n}\n\n.control-left {\n  display: flex;\n  gap: 8px;\n}\n\n.control-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.control-button:hover {\n  background-color: #e0e0e0;\n}\n\n.verify-button {\n  background-color: #f5f5f5;\n  color: #999;\n  border: 1px solid #e0e0e0;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: not-allowed;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n\n.verify-button.active {\n  background-color: #4285f4;\n  color: #ffffff;\n  border-color: #4285f4;\n  cursor: pointer;\n}\n\n.verify-button.active:hover {\n  background-color: #3367d6;\n} ",""]);const c=a},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},318:e=>{e.exports=t},338:(e,t,n)=>{var r=n(318);t.H=r.createRoot,r.hydrateRoot},386:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".warm-feeling-captcha {\n  width: 400px;\n  background-color: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.captcha-header {\n  background-color: #f5f5f5;\n  padding: 16px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.header-text {\n  font-size: 14px;\n  color: #333333;\n  font-weight: 500;\n  text-align: center;\n  display: block;\n}\n\n.image-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 2.5px;\n  background-color: #e0e0e0;\n  padding: 2.5px;\n}\n\n.image-item {\n  position: relative;\n  aspect-ratio: 1;\n  background-color: #ffffff;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-item:hover {\n  background-color: #f8f9fa;\n}\n\n.image-item.selected {\n  background-color: #e3f2fd;\n}\n\n.image-placeholder {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.placeholder-content {\n  font-size: 24px;\n  color: #666;\n}\n\n.image-placeholder img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.selection-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(66, 133, 244, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n}\n\n.captcha-controls {\n  background-color: #f5f5f5;\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid #e0e0e0;\n}\n\n.control-left {\n  display: flex;\n  gap: 8px;\n}\n\n.control-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.control-button:hover {\n  background-color: #e0e0e0;\n}\n\n.verify-button {\n  background-color: #f5f5f5;\n  color: #999;\n  border: 1px solid #e0e0e0;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: not-allowed;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n\n.verify-button.active {\n  background-color: #4285f4;\n  color: #ffffff;\n  border-color: #4285f4;\n  cursor: pointer;\n}\n\n.verify-button.active:hover {\n  background-color: #3367d6;\n} ",""]);const c=a},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},569:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".handwriting-captcha {\n  width: 500px;\n  background-color: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.captcha-header {\n  background-color: #f5f5f5;\n  padding: 16px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.header-text {\n  font-size: 14px;\n  color: #333333;\n  font-weight: 500;\n  text-align: center;\n  display: block;\n}\n\n.images-container {\n  display: flex;\n  gap: 8px;\n  padding: 16px;\n  background-color: #ffffff;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.image-slot {\n  flex: 1;\n  aspect-ratio: 1;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-slot img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.handwriting-area {\n  padding: 16px;\n  background-color: #ffffff;\n}\n\n.grid-pattern {\n  width: 100%;\n  height: 200px;\n  background-image: \n    linear-gradient(rgba(200, 200, 200, 0.3) 1px, transparent 1px),\n    linear-gradient(90deg, rgba(200, 200, 200, 0.3) 1px, transparent 1px);\n  background-size: 20px 20px;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  position: relative;\n}\n\n.drawing-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  cursor: crosshair;\n  background-color: transparent;\n}\n\n.captcha-controls {\n  background-color: #f5f5f5;\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid #e0e0e0;\n}\n\n.control-left {\n  display: flex;\n  gap: 8px;\n}\n\n.control-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.control-button:hover {\n  background-color: #e0e0e0;\n}\n\n.control-button.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.control-button.disabled:hover {\n  background-color: transparent;\n}\n\n.verify-button {\n  background-color: #4285f4;\n  color: #ffffff;\n  border: 1px solid #4285f4;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n\n.verify-button:hover {\n  background-color: #3367d6;\n} ",""]);const c=a},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},848:(e,t,n)=>{e.exports=n(20)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,exports:{}};return n[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0;var i={};o.r(i),o.d(i,{RealCaptcha:()=>de,default:()=>he});var a=o(156),c=o.n(a),s=o(338),l=o(848),u=o(72),d=o.n(u),h=o(825),f=o.n(h),p=o(659),v=o.n(p),g=o(56),m=o.n(g),y=o(540),b=o.n(y),x=o(113),w=o.n(x),k=o(132),S={};S.styleTagTransform=w(),S.setAttributes=m(),S.insert=v().bind(null,"head"),S.domAPI=f(),S.insertStyleElement=b();d()(k.A,S);k.A&&k.A.locals&&k.A.locals;var T=o(299),j={};j.styleTagTransform=w(),j.setAttributes=m(),j.insert=v().bind(null,"head"),j.domAPI=f(),j.insertStyleElement=b();d()(T.A,j);T.A&&T.A.locals&&T.A.locals;var E=[],_={captcha:0,image:0,abstractFeeling:0,handwriting:0};function C(e){E.push(e),function(){try{var e=parseInt(localStorage.getItem("current_sequence")||"0")+1,t="behavior_data_".concat(e);localStorage.setItem(t,JSON.stringify(E)),localStorage.setItem("current_sequence",e.toString()),E=[]}catch(e){}}()}const I=function(){function e(){this.isTracking=!1,this.lastMousePosition=null,this.metrics={sessionId:"image_".concat(Date.now()),startTime:Date.now(),endTime:0,totalTime:0,imageInteractions:{},selectionOrder:[],deselectionOrder:[],finalSelection:[],mouseTrajectory:[],refreshCount:0,verifyAttempts:0,verificationSuccess:!1,attemptDuration:0};for(var e=0;e<9;e++)this.metrics.imageInteractions[e]={imageId:e,clicks:[],hovers:[],totalHoverTime:0,isSelected:!1,interactionDensity:{clickCount:0,hoverCount:0,totalHoverTime:0,averageDwellTime:0,density:0}}}return e.prototype.startTracking=function(){this.isTracking=!0,this.metrics.startTime=Date.now()},e.prototype.stopTracking=function(){this.isTracking=!1,this.metrics.endTime=Date.now(),this.metrics.totalTime=this.metrics.endTime-this.metrics.startTime,this.saveToLocalStorage()},e.prototype.trackMouseMove=function(e,t){var n;if(this.isTracking){var r=Date.now(),o=null===(n=document.querySelector(".image-captcha"))||void 0===n?void 0:n.getBoundingClientRect();if(o){var i=o.width/2,a=o.height/2,c=Math.sqrt(Math.pow(e-i,2)+Math.pow(t-a,2)),s={x:e/o.width,y:t/o.height,distanceFromCenter:c,timestamp:r};this.metrics.mouseTrajectory.push(s),this.lastMousePosition=s}}},e.prototype.trackImageClick=function(e,t){if(this.isTracking){var n=this.metrics.imageInteractions[e];if(n){var r=t.target.getBoundingClientRect(),o=(t.clientX-r.left)/r.width,i=(t.clientY-r.top)/r.height,a={x:o,y:i,distanceFromCenter:Math.sqrt(Math.pow(o-.5,2)+Math.pow(i-.5,2)),timestamp:Date.now()};n.clicks.push(a),n.interactionDensity.clickCount++,this.updateInteractionDensity(n)}}},e.prototype.trackImageHover=function(e,t){if(this.isTracking){var n=this.metrics.imageInteractions[e];if(n){var r=Date.now();if(t)n.hovers.push({enter:r,leave:0}),n.interactionDensity.hoverCount++;else{var o=n.hovers[n.hovers.length-1];if(o&&0===o.leave){o.leave=r;var i=r-o.enter;n.totalHoverTime+=i,n.interactionDensity.totalHoverTime+=i}}this.updateInteractionDensity(n)}}},e.prototype.trackRefresh=function(){this.isTracking&&this.metrics.refreshCount++},e.prototype.trackVerifyAttempt=function(e){this.isTracking&&(this.metrics.verifyAttempts++,this.metrics.verificationSuccess=e,this.metrics.attemptDuration=Date.now()-this.metrics.startTime,this.metrics.finalSelection=Object.entries(this.metrics.imageInteractions).filter(function(e){e[0];return e[1].isSelected}).map(function(e){var t=e[0];return parseInt(t)}),this.saveToLocalStorage())},e.prototype.trackImageSelection=function(e,t){this.isTracking&&(this.metrics.imageInteractions[e]||(this.metrics.imageInteractions[e]={imageId:e,clicks:[],hovers:[],totalHoverTime:0,isSelected:!1,interactionDensity:{clickCount:0,hoverCount:0,totalHoverTime:0,averageDwellTime:0,density:0}}),t?(this.metrics.selectionOrder.push(e),this.metrics.imageInteractions[e].isSelected=!0):(this.metrics.deselectionOrder.push(e),this.metrics.imageInteractions[e].isSelected=!1))},e.prototype.updateInteractionDensity=function(e){var t=Date.now()-this.metrics.startTime;e.interactionDensity.averageDwellTime=e.interactionDensity.totalHoverTime/e.interactionDensity.hoverCount||0,e.interactionDensity.density=(e.interactionDensity.clickCount+e.interactionDensity.hoverCount)/(t||1)},e.prototype.saveToLocalStorage=function(){try{C(this.metrics)}catch(e){}},e.prototype.downloadMetrics=function(e){var t=JSON.stringify(this.metrics,null,2),n=new Blob([t],{type:"application/json"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=e||"image_behavior_".concat(this.metrics.sessionId,".json"),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r)},e}();var P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},P.apply(this,arguments)},N=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((r=r.apply(e,t||[])).next())})},D=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},A=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const M=function(e){var t=e.onSuccess,n=(0,a.useState)([]),r=n[0],o=n[1],i=(0,a.useState)(!1),c=i[0],s=i[1],u=(0,a.useState)(parseInt({NODE_ENV:"production",REACT_APP_TEST_MODE:"false",REACT_APP_API_BASE_URL:"https://api.realcatcha.com",REACT_APP_SUCCESS_REDIRECT_URL:""}.REACT_APP_CAPTCHA_TTL||"60")),d=u[0],h=u[1],f=(0,a.useState)(""),p=f[0],v=f[1],g=(0,a.useState)(!1),m=(g[0],g[1]),y=(0,a.useState)(""),b=y[0],x=y[1],w=(0,a.useState)(""),k=w[0],S=w[1],T=(0,a.useRef)(new I),j=(0,a.useRef)(!1);(0,a.useEffect)(function(){return T.current.startTracking(),E(),function(){T.current.stopTracking()}},[]);var E=function(){return N(void 0,void 0,void 0,function(){var e,t;return D(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,4,5]),m(!0),[4,fetch("".concat("https://api.realcatcha.com","/api/imagecaptcha-challenge"),{method:"POST"})];case 1:if(!(e=n.sent()).ok)throw new Error("HTTP ".concat(e.status));return[4,e.json()];case 2:return t=n.sent(),x(t.challenge_id||""),v(t.url||""),"number"==typeof t.ttl&&t.ttl>0&&h(t.ttl),S(t.question||""),o([]),s(!1),[3,5];case 3:return n.sent(),[3,5];case 4:return m(!1),[7];case 5:return[2]}})})};(0,a.useEffect)(function(){if(!(d<=0)){var e=setInterval(function(){return h(function(e){return e>0?e-1:0})},1e3);return function(){return clearInterval(e)}}},[d]),(0,a.useEffect)(function(){if(0!==d||c)d>0&&(j.current=!1);else{if(j.current)return;j.current=!0,_()}},[d,c]);var _=function(){o([]),s(!1),T.current.trackRefresh(),E()};return(0,l.jsxs)("div",P({className:"image-captcha",onMouseMove:function(e){var t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;T.current.trackMouseMove(n,r)}},{children:[(0,l.jsx)("div",P({className:"captcha-header"},{children:(0,l.jsx)("span",P({className:"header-text"},{children:k||"Select all matching images."}))})),(0,l.jsxs)("div",P({className:"image-stage"},{children:[p&&(0,l.jsx)("img",{className:"base-image",src:p,alt:"captcha",draggable:!1}),(0,l.jsx)("div",P({className:"overlay-grid"},{children:[{id:1,selected:!1,gridPosition:{row:1,col:1}},{id:2,selected:!1,gridPosition:{row:1,col:2}},{id:3,selected:!1,gridPosition:{row:1,col:3}},{id:4,selected:!1,gridPosition:{row:2,col:1}},{id:5,selected:!1,gridPosition:{row:2,col:2}},{id:6,selected:!1,gridPosition:{row:2,col:3}},{id:7,selected:!1,gridPosition:{row:3,col:1}},{id:8,selected:!1,gridPosition:{row:3,col:2}},{id:9,selected:!1,gridPosition:{row:3,col:3}}].map(function(e){return(0,l.jsx)("div",P({className:"overlay-cell ".concat(r.includes(e.id)?"selected":""),onClick:function(t){return n=e.id,i=t.nativeEvent,a=r.includes(n),o(function(e){return a?e.filter(function(e){return e!==n}):A(A([],e,!0),[n],!1)}),void T.current.trackImageClick(n,i);var n,i,a},onMouseEnter:function(){return T.current.trackImageHover(e.id,!0)},onMouseLeave:function(){return T.current.trackImageHover(e.id,!1)}},{children:r.includes(e.id)&&(0,l.jsx)("div",P({className:"selection-overlay"},{children:(0,l.jsx)("svg",P({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"#ffffff"})}))}))}),e.id)})}))]})),(0,l.jsxs)("div",P({className:"captcha-controls"},{children:[(0,l.jsxs)("div",P({className:"control-left"},{children:[(0,l.jsx)("button",P({className:"control-button",onClick:_},{children:(0,l.jsx)("svg",P({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"#666"})}))})),(0,l.jsx)("button",P({className:"control-button"},{children:(0,l.jsx)("svg",P({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z",fill:"#666"})}))})),(0,l.jsx)("button",P({className:"control-button"},{children:(0,l.jsxs)("svg",P({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"#666",strokeWidth:"2",fill:"none"}),(0,l.jsx)("path",{d:"M12 16v-4M12 8h.01",stroke:"#666",strokeWidth:"2",fill:"none"})]}))}))]})),(0,l.jsx)("button",P({className:"verify-button ".concat(r.length>0&&b?"active":""),onClick:function(){return N(void 0,void 0,void 0,function(){var e,n,i;return D(this,function(a){switch(a.label){case 0:if(!b)return[2];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch("".concat("https://api.realcatcha.com","/api/imagecaptcha-verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({challenge_id:b,selections:r})})];case 2:if(!(e=a.sent()).ok)throw new Error("HTTP ".concat(e.status));return[4,e.json()];case 3:return n=a.sent(),i=!!n.success,T.current.trackVerifyAttempt(i),i?(s(!0),setTimeout(function(){return null==t?void 0:t()},300)):(alert("정답이 아닙니다. 다시 시도해주세요."),o([])),[3,5];case 4:return a.sent(),alert("검증 중 오류가 발생했습니다. 다시 시도해주세요."),[3,5];case 5:return[2]}})})},disabled:!(0!==r.length&&b)},{children:"VERIFY"}))]}))]}))};var R=o(386),L={};L.styleTagTransform=w(),L.setAttributes=m(),L.insert=v().bind(null,"head"),L.domAPI=f(),L.insertStyleElement=b();d()(R.A,L);R.A&&R.A.locals&&R.A.locals;var O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O.apply(this,arguments)},z=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((r=r.apply(e,t||[])).next())})},H=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},q=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const V=function(e){e.onSuccess;var t=(0,a.useState)([]),n=t[0],r=t[1],o=(0,a.useState)(!1),i=o[0],c=o[1],s=(0,a.useState)(!1),u=s[0],d=s[1],h=(0,a.useState)(""),f=h[0],p=h[1],v=(0,a.useState)(""),g=v[0],m=v[1],y=(0,a.useState)(""),b=y[0],x=y[1],w=(0,a.useState)(0),k=w[0],S=w[1],T=(0,a.useState)([]),j=T[0],E=T[1],_=(0,a.useRef)(new I),C=(0,a.useRef)(!1),P=!1,N="https://api.realcatcha.com";(0,a.useEffect)(function(){return _.current.startTracking(),D(),function(){_.current.stopTracking()}},[]),(0,a.useEffect)(function(){if(!(k<=0)){var e=setInterval(function(){return S(function(e){return e>0?e-1:0})},1e3);return function(){return clearInterval(e)}}},[k]),(0,a.useEffect)(function(){if(0!==k||i||u)k>0&&(C.current=!1);else{if(C.current)return;C.current=!0,p("시간이 만료되어 새로운 문제로 갱신합니다."),A()}},[k,i,u]);var D=function(){return z(void 0,void 0,void 0,function(){var e,t,n,o;return H(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),d(!0),p(""),r([]),c(!1),[4,fetch("".concat(N,"/api/abstract-captcha"),{method:"POST"})];case 1:if(!(e=i.sent()).ok)throw new Error("HTTP ".concat(e.status));return[4,e.json()];case 2:return t=i.sent(),m(t.challenge_id),x(t.question||"이미지를 선택하세요"),S(t.ttl||45),n=t.images||[],o=n.map(function(e){return{id:e.id,url:e.url.startsWith("http")?e.url:"".concat(N).concat(e.url)}}),E(o),[3,5];case 3:return i.sent(),p("문제를 불러오지 못했습니다. 다시 시도해주세요."),[3,5];case 4:return d(!1),[7];case 5:return[2]}})})},A=function(){r([]),c(!1),_.current.trackRefresh(),D()};return(0,l.jsxs)("div",O({className:"warm-feeling-captcha",onMouseMove:function(e){var t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;_.current.trackMouseMove(n,r)}},{children:[(0,l.jsx)("div",O({className:"captcha-header"},{children:(0,l.jsx)("span",O({className:"header-text"},{children:b}))})),f&&(0,l.jsx)("div",O({style:{padding:8,color:"#c00",fontSize:12,textAlign:"center"}},{children:f})),(0,l.jsx)("div",O({className:"image-grid"},{children:j.map(function(e){return(0,l.jsxs)("div",O({className:"image-item ".concat(n.includes(e.id)?"selected":""),onClick:function(){return t=e.id,o=n.includes(t),r(function(e){return o?e.filter(function(e){return e!==t}):q(q([],e,!0),[t],!1)}),void _.current.trackImageSelection(t,!o);var t,o},onMouseEnter:function(){return _.current.trackImageHover(e.id,!0)},onMouseLeave:function(){return _.current.trackImageHover(e.id,!1)}},{children:[(0,l.jsx)("div",O({className:"image-placeholder"},{children:(0,l.jsx)("img",{src:e.url,alt:"Image ".concat(e.id)})})),n.includes(e.id)&&(0,l.jsx)("div",O({className:"selection-overlay"},{children:(0,l.jsx)("svg",O({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"#ffffff"})}))}))]}),e.id)})})),(0,l.jsxs)("div",O({className:"captcha-controls"},{children:[(0,l.jsx)("div",O({className:"control-left"},{children:(0,l.jsx)("button",O({className:"control-button",onClick:A,disabled:u},{children:(0,l.jsx)("svg",O({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"#666"})}))}))})),(0,l.jsx)("button",O({className:"verify-button ".concat(n.length>0?"active":""),onClick:function(){return z(void 0,void 0,void 0,function(){var e,t,o,i,a;return H(this,function(s){switch(s.label){case 0:if(!g)return[2];P,s.label=1;case 1:return s.trys.push([1,4,5,6]),d(!0),e={challenge_id:g,selections:n},[4,fetch("".concat(N,"/api/abstract-verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 2:if(!(t=s.sent()).ok)throw new Error("HTTP ".concat(t.status));return[4,t.json()];case 3:return o=s.sent(),i=!!o.success,_.current.trackVerifyAttempt(i),i?(a=o&&o.redirect_url||"")&&"undefined"!=typeof window?(window.location.href=a,[2]):(c(!0),[2]):(alert("정답이 아닙니다. 다시 시도해주세요."),r([]),D(),[3,6]);case 4:return s.sent(),p("검증에 실패했습니다. 다시 시도해주세요."),[3,6];case 5:return d(!1),[7];case 6:return[2]}})})},disabled:0===n.length||u},{children:"VERIFY"}))]}))]}))};var B=o(569),U={};U.styleTagTransform=w(),U.setAttributes=m(),U.insert=v().bind(null,"head"),U.domAPI=f(),U.insertStyleElement=b();d()(B.A,U);B.A&&B.A.locals&&B.A.locals;const J=function(){function e(){this.isTracking=!1,this.currentStroke=[],this.lastStrokeEnd=0,this.metrics={strokeCount:0,strokeLengths:[],strokeDurations:[],strokeIntervals:[],strokeCurvatures:[],strokeJitters:[],directionChanges:[],hesitationPoints:[],totalTime:0,averageSpeed:0,speedVariations:[],sessionId:"handwriting_".concat(Date.now()),startTime:Date.now(),endTime:0,verificationSuccess:!1}}return e.prototype.startTracking=function(){this.isTracking=!0,this.metrics.startTime=Date.now()},e.prototype.stopTracking=function(){this.isTracking&&(this.isTracking=!1,this.metrics.endTime=Date.now(),this.metrics.totalTime=this.metrics.endTime-this.metrics.startTime,this.saveToLocalStorage())},e.prototype.startStroke=function(e,t){if(this.isTracking){var n=Date.now(),r={x:e,y:t,timestamp:n};this.currentStroke=[r],this.lastStrokeEnd>0&&this.metrics.strokeIntervals.push(n-this.lastStrokeEnd)}},e.prototype.addPoint=function(e,t){if(this.isTracking&&0!==this.currentStroke.length){var n={x:e,y:t,timestamp:Date.now()};this.currentStroke.push(n),this.updateMetrics()}},e.prototype.endStroke=function(){if(this.isTracking&&!(this.currentStroke.length<2)){this.metrics.strokeCount++,this.lastStrokeEnd=Date.now();var e=this.calculateStrokeLength(),t=this.currentStroke[this.currentStroke.length-1].timestamp-this.currentStroke[0].timestamp,n=this.calculateCurvature(),r=this.calculateJitter(),o=this.calculateDirectionChanges(),i=this.calculateHesitations();this.metrics.strokeLengths.push(e),this.metrics.strokeDurations.push(t),this.metrics.strokeCurvatures.push(n),this.metrics.strokeJitters.push(r),this.metrics.directionChanges.push(o),this.metrics.hesitationPoints.push(i);var a=e/t;this.metrics.speedVariations.push(a),this.updateAverages(),this.currentStroke=[]}},e.prototype.calculateStrokeLength=function(){for(var e=0,t=1;t<this.currentStroke.length;t++){var n=this.currentStroke[t].x-this.currentStroke[t-1].x,r=this.currentStroke[t].y-this.currentStroke[t-1].y;e+=Math.sqrt(n*n+r*r)}return e},e.prototype.calculateCurvature=function(){if(this.currentStroke.length<3)return 0;for(var e=0,t=1;t<this.currentStroke.length-1;t++){var n=this.currentStroke[t-1],r=this.currentStroke[t],o=this.currentStroke[t+1],i=Math.atan2(r.y-n.y,r.x-n.x),a=Math.atan2(o.y-r.y,o.x-r.x);e+=Math.abs(a-i)}return e/(this.currentStroke.length-2)},e.prototype.calculateJitter=function(){if(this.currentStroke.length<3)return 0;for(var e=0,t=1;t<this.currentStroke.length-1;t++){var n={x:(this.currentStroke[t-1].x+this.currentStroke[t+1].x)/2,y:(this.currentStroke[t-1].y+this.currentStroke[t+1].y)/2},r=this.currentStroke[t];e+=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))}return e/(this.currentStroke.length-2)},e.prototype.calculateDirectionChanges=function(){if(this.currentStroke.length<3)return 0;for(var e=0,t=Math.atan2(this.currentStroke[1].y-this.currentStroke[0].y,this.currentStroke[1].x-this.currentStroke[0].x),n=2;n<this.currentStroke.length;n++){var r=Math.atan2(this.currentStroke[n].y-this.currentStroke[n-1].y,this.currentStroke[n].x-this.currentStroke[n-1].x);Math.abs(r-t)>Math.PI/4&&e++,t=r}return e},e.prototype.calculateHesitations=function(){if(this.currentStroke.length<2)return 0;for(var e=0,t=1;t<this.currentStroke.length;t++){var n=this.currentStroke[t].timestamp-this.currentStroke[t-1].timestamp,r=this.currentStroke[t].x-this.currentStroke[t-1].x,o=this.currentStroke[t].y-this.currentStroke[t-1].y;Math.sqrt(r*r+o*o)/n<.1&&e++}return e},e.prototype.updateAverages=function(){var e=this.metrics.strokeLengths.reduce(function(e,t){return e+t},0),t=this.metrics.strokeDurations.reduce(function(e,t){return e+t},0);this.metrics.averageSpeed=e/t},e.prototype.updateMetrics=function(){if(this.currentStroke.length>=2){var e=this.currentStroke[this.currentStroke.length-1],t=this.currentStroke[this.currentStroke.length-2],n=e.timestamp-t.timestamp,r=e.x-t.x,o=e.y-t.y,i=Math.sqrt(r*r+o*o)/n;this.metrics.speedVariations.push(i)}},e.prototype.setVerificationResult=function(e){this.metrics.verificationSuccess=e,this.saveToLocalStorage()},e.prototype.saveToLocalStorage=function(){try{var e="handwriting_behavior_".concat(this.metrics.sessionId);localStorage.setItem(e,JSON.stringify(this.metrics))}catch(e){}},e.prototype.downloadMetrics=function(){var e=JSON.stringify(this.metrics,null,2),t=new Blob([e],{type:"application/json"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="handwriting_behavior_".concat(Date.now(),".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},e.prototype.reset=function(){this.currentStroke=[],this.metrics={strokeCount:0,strokeLengths:[],strokeDurations:[],strokeIntervals:[],strokeCurvatures:[],strokeJitters:[],directionChanges:[],hesitationPoints:[],totalTime:0,averageSpeed:0,speedVariations:[],sessionId:"handwriting_".concat(Date.now()),startTime:Date.now(),endTime:0,verificationSuccess:!1},this.lastStrokeEnd=0,this.isTracking=!0},e}();var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Y.apply(this,arguments)},F=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((r=r.apply(e,t||[])).next())})},K=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},X=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const G=function(e){e.onSuccess;var t=e.samples,n=(0,a.useState)(!1),r=n[0],o=n[1],i=(0,a.useState)(""),c=(i[0],i[1],(0,a.useState)("")),s=(c[0],c[1]),u=(0,a.useState)(!1),d=u[0],h=u[1],f=(0,a.useState)([]),p=f[0],v=f[1],g=(0,a.useState)([]),m=g[0],y=g[1],b=(0,a.useRef)(null),x=(0,a.useRef)(null),w=(0,a.useRef)(new J),k=(0,a.useState)(parseInt({NODE_ENV:"production",REACT_APP_TEST_MODE:"false",REACT_APP_API_BASE_URL:"https://api.realcatcha.com",REACT_APP_SUCCESS_REDIRECT_URL:""}.REACT_APP_CAPTCHA_TTL||"60")),S=k[0],T=k[1],j=(0,a.useRef)(!1);(0,a.useEffect)(function(){var e=(t||[]).slice(0,5).map(function(e,t){return{id:t+1,src:e,alt:"Sample ".concat(t+1)}});y(e)},[t]),(0,a.useEffect)(function(){var e=b.current;if(e){e.width=2*e.offsetWidth,e.height=2*e.offsetHeight,e.style.width="".concat(e.offsetWidth,"px"),e.style.height="".concat(e.offsetHeight,"px");var t=e.getContext("2d");if(t)return t.scale(2,2),t.lineCap="round",t.strokeStyle="#000000",t.lineWidth=2,x.current=t,w.current.startTracking(),function(){w.current.stopTracking()}}},[]);var E=function(){return F(void 0,void 0,void 0,function(){var e,t,n;return K(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,4,5]),h(!0),[4,fetch("".concat("https://api.realcatcha.com","/api/handwriting-challenge"),{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":"rc_live_f49a055d62283fd02e8203ccaba70fc2"}})];case 1:if(!(e=r.sent()).ok)throw new Error("HTTP ".concat(e.status));return[4,e.json()];case 2:return t=r.sent(),n=(t.samples||[]).slice(0,5).map(function(e,t){return{id:t+1,src:e,alt:"Sample ".concat(t+1)}}),y(n),"number"==typeof t.ttl&&t.ttl>0&&T(t.ttl),[3,5];case 3:return r.sent(),[3,5];case 4:return h(!1),[7];case 5:return[2]}})})};(0,a.useEffect)(function(){if(!(S<=0)){var e=setInterval(function(){return T(function(e){return e>0?e-1:0})},1e3);return function(){return clearInterval(e)}}},[S]),(0,a.useEffect)(function(){if(0===S){if(j.current)return;j.current=!0,C(),E()}else S>0&&(j.current=!1)},[S]);var _=function(){var e;o(!1),null===(e=x.current)||void 0===e||e.closePath(),w.current.endStroke()},C=function(){var e=b.current;if(e){var t=e.getContext("2d");t&&(t.clearRect(0,0,e.width,e.height),v([]),w.current.reset())}};return(0,l.jsxs)("div",Y({className:"handwriting-captcha"},{children:[(0,l.jsx)("div",Y({className:"captcha-header"},{children:(0,l.jsx)("span",Y({className:"header-text"},{children:"이미지를 보고 떠오르는 키워드를 손글씨로 작성하세요."}))})),(0,l.jsx)("div",Y({className:"images-container"},{children:m.map(function(e){return(0,l.jsx)("div",Y({className:"image-slot"},{children:(0,l.jsx)("img",{src:e.src,alt:e.alt})}),e.id)})})),(0,l.jsx)("div",Y({className:"handwriting-area"},{children:(0,l.jsx)("div",Y({className:"grid-pattern"},{children:(0,l.jsx)("canvas",{ref:b,className:"drawing-canvas",onMouseDown:function(e){var t,n;o(!0);var r=e.nativeEvent,i=r.offsetX,a=r.offsetY;null===(t=x.current)||void 0===t||t.beginPath(),null===(n=x.current)||void 0===n||n.moveTo(i,a),w.current.startStroke(i,a);var c=b.current;if(c&&x.current){var s=x.current.getImageData(0,0,c.width,c.height);v(function(e){return X(X([],e,!0),[s],!1)})}},onMouseMove:function(e){var t,n;if(r){var o=e.nativeEvent,i=o.offsetX,a=o.offsetY;null===(t=x.current)||void 0===t||t.lineTo(i,a),null===(n=x.current)||void 0===n||n.stroke(),w.current.addPoint(i,a)}},onMouseUp:_,onMouseLeave:_})}))})),(0,l.jsxs)("div",Y({className:"captcha-controls"},{children:[(0,l.jsxs)("div",Y({className:"control-left"},{children:[(0,l.jsx)("button",Y({className:"control-button",onClick:function(){C(),s(""),E()},disabled:d},{children:(0,l.jsx)("svg",Y({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"#666"})}))})),(0,l.jsx)("button",Y({className:"control-button ".concat(0===p.length?"disabled":""),onClick:function(){if(0!==p.length){var e=b.current;if(e&&x.current){var t=p.slice(0,-1);if(v(t),x.current.clearRect(0,0,e.width,e.height),t.length>0){var n=t[t.length-1];x.current.putImageData(n,0,0)}}}},disabled:0===p.length},{children:(0,l.jsx)("svg",Y({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z",fill:0===p.length?"#ccc":"#666"})}))})),(0,l.jsx)("button",Y({className:"control-button"},{children:(0,l.jsx)("svg",Y({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z",fill:"#666"})}))})),(0,l.jsx)("button",Y({className:"control-button"},{children:(0,l.jsxs)("svg",Y({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"#666",strokeWidth:"2",fill:"none"}),(0,l.jsx)("path",{d:"M12 16v-4M12 8h.01",stroke:"#666",strokeWidth:"2",fill:"none"})]}))}))]})),(0,l.jsx)("button",Y({className:"verify-button ".concat(p.length>0?"active":""),onClick:function(){return F(void 0,void 0,void 0,function(){var e,t,n,r,o;return K(this,function(i){switch(i.label){case 0:if(0===p.length)return alert("손글씨를 먼저 작성해주세요."),[2];if(!(e=b.current))return alert("캔버스를 찾을 수 없습니다. 다시 시도해주세요."),[2];i.label=1;case 1:return i.trys.push([1,4,,5]),t=e.toDataURL("image/png"),[4,fetch("".concat("https://api.realcatcha.com","/api/handwriting-verify"),{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":"rc_live_f49a055d62283fd02e8203ccaba70fc2"},body:JSON.stringify({image_base64:t})})];case 2:if(!(n=i.sent()).ok)throw new Error("HTTP error! status: ".concat(n.status));return[4,n.json()];case 3:return(r=i.sent()).success?(w.current.setVerificationResult(!0),o=r.redirect_url||document.referrer||window.location.origin,"undefined"!=typeof window&&window.location.assign(o)):(w.current.setVerificationResult(!1),alert("정답이 아닙니다. 다시 시도해주세요."),C(),E()),[3,5];case 4:return i.sent(),alert("서버 검증 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요."),[3,5];case 5:return[2]}})})},disabled:0===p.length},{children:"VERIFY"}))]}))]}))};function W(){var e=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod|android|blackberry|windows phone/i.test(e)||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0?"mobile":"desktop"}var $=null,Q={sessionId:"mobile_".concat(Date.now()),startTime:Date.now(),deviceInfo:{userAgent:navigator.userAgent,screenSize:{width:window.screen.width,height:window.screen.height},orientation:window.screen.height>window.screen.width?"portrait":"landscape"},touchEvents:[],touchPatterns:{averageDuration:0,averageForce:0,averageDistance:0,averageSpeed:0,multiTouchCount:0,totalTouches:0}};function Z(e){var t=e.touches[0];($={startTime:Date.now(),startPosition:{x:t.clientX,y:t.clientY},force:t.force||0,touchPoints:[{x:t.clientX,y:t.clientY,timestamp:Date.now(),force:t.force||0}],isMultiTouch:e.touches.length>1,touchCount:e.touches.length}).isMultiTouch&&Q.touchPatterns.multiTouchCount++,Q.touchPatterns.totalTouches++}function ee(e){if($){var t=e.touches[0];$.touchPoints.push({x:t.clientX,y:t.clientY,timestamp:Date.now(),force:t.force||0})}}function te(e){if($){var t=Date.now(),n=e.changedTouches[0];$.endTime=t,$.duration=t-$.startTime,$.endPosition={x:n.clientX,y:n.clientY};var r=$.endPosition.x-$.startPosition.x,o=$.endPosition.y-$.startPosition.y;$.distance=Math.sqrt(r*r+o*o),$.speed=$.distance/$.duration,Q.touchEvents.push($),function(){var e=Q.touchEvents;if(0===e.length)return;Q.touchPatterns={averageDuration:e.reduce(function(e,t){return e+(t.duration||0)},0)/e.length,averageForce:e.reduce(function(e,t){return e+t.force},0)/e.length,averageDistance:e.reduce(function(e,t){return e+(t.distance||0)},0)/e.length,averageSpeed:e.reduce(function(e,t){return e+(t.speed||0)},0)/e.length,multiTouchCount:e.filter(function(e){return e.isMultiTouch}).length,totalTouches:e.length}}(),$=null}}function ne(){try{var e=parseInt(localStorage.getItem("mobile_sequence")||"0")+1,t="mobile_behavior_".concat(e);Q.endTime=Date.now(),localStorage.setItem(t,JSON.stringify(Q)),localStorage.setItem("mobile_sequence",e.toString()),Q={sessionId:"mobile_".concat(Date.now()),startTime:Date.now(),deviceInfo:Q.deviceInfo,touchEvents:[],touchPatterns:{averageDuration:0,averageForce:0,averageDistance:0,averageSpeed:0,multiTouchCount:0,totalTouches:0}}}catch(e){}}var re=function(){return re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},re.apply(this,arguments)},oe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((r=r.apply(e,t||[])).next())})},ie=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};const ae=function(e){var t=e.siteKey,n=void 0===t?"":t,r=(e.theme,e.size,e.language,e.apiEndpoint),o=void 0===r?"https://api.realcatcha.com":r,i=(e.onComplete,(0,a.useState)("initial")),c=i[0],s=i[1],u=(0,a.useState)(""),d=u[0],h=u[1],f=(0,a.useState)(0),p=(f[0],f[1],(0,a.useState)([])),v=p[0],g=p[1],m=(0,a.useRef)(null),y=(0,a.useRef)(null),b=(0,a.useRef)(null),x=(0,a.useRef)({mouseMovements:[],mouseClicks:[],scrollEvents:[],pageEvents:{enterTime:Date.now()}});(0,a.useEffect)(function(){var e=W();return function(){E=[],Object.keys(_).forEach(function(e){_[e]=0});for(var e=parseInt(localStorage.getItem("current_sequence")||"0"),t=1;t<=e;t++)localStorage.removeItem("behavior_data_".concat(t));localStorage.removeItem("current_sequence"),localStorage.removeItem("sequence_counters")}(),"desktop"===e?(window.addEventListener("mousemove",w),window.addEventListener("mousedown",k),window.addEventListener("mouseup",k),window.addEventListener("click",k),window.addEventListener("scroll",S),y.current=setInterval(function(){T(!1)},1e4)):(window.addEventListener("touchstart",Z),window.addEventListener("touchmove",ee),window.addEventListener("touchend",te),y.current=setInterval(function(){ne()},1e4)),function(){"desktop"===e?(window.removeEventListener("mousemove",w),window.removeEventListener("mousedown",k),window.removeEventListener("mouseup",k),window.removeEventListener("click",k),window.removeEventListener("scroll",S),T(!0)):(window.removeEventListener("touchstart",Z),window.removeEventListener("touchmove",ee),window.removeEventListener("touchend",te),ne()),y.current&&clearInterval(y.current)}},[]),(0,a.useEffect)(function(){"image-captcha"!==c&&"abstract-captcha"!==c&&"handwriting-captcha"!==c||(y.current&&(clearInterval(y.current),y.current=null),"desktop"===W()?T(!0):ne())},[c]);var w=function(e){var t={x:e.clientX,y:e.clientY,timestamp:Date.now()};if(!b.current)return x.current.mouseMovements.push(t),void(b.current=t);var n=Math.sqrt(Math.pow(t.x-b.current.x,2)+Math.pow(t.y-b.current.y,2)),r=t.timestamp-b.current.timestamp;(n>=10||r>=50)&&(x.current.mouseMovements.push(t),b.current=t)},k=function(e){x.current.mouseClicks.push({x:e.clientX,y:e.clientY,timestamp:Date.now(),type:e.type})},S=function(){x.current.scrollEvents.push({position:window.scrollY,timestamp:Date.now()})},T=function(e){void 0===e&&(e=!1),C(re(re({},x.current),{pageEvents:re(re({},x.current.pageEvents),{exitTime:e?Date.now():void 0,totalTime:e?Date.now()-x.current.pageEvents.enterTime:void 0})})),e||(x.current=re(re({},x.current),{mouseMovements:[],mouseClicks:[],scrollEvents:[],pageEvents:{enterTime:Date.now()}}))},j=function(e){e.stopPropagation(),e.preventDefault(),"initial"===c?(s("loading"),setTimeout(function(){s("success"),setTimeout(function(){P()},1e3)},2e3)):"error"===c&&(s("initial"),h(""))},I=(0,a.useRef)(!1),P=function(){return oe(void 0,void 0,void 0,function(){var e,t,r,i,a,c,l,u;return ie(this,function(d){switch(d.label){case 0:if(d.trys.push([0,3,,4]),I.current)return[2];I.current=!0,e=o||"https://api.realcatcha.com",t="undefined"!=typeof performance&&performance.now?performance.now():Date.now(),r=x.current,i={behavior_data:r,site_key:n};try{((null==r?void 0:r.mouseMovements)||[]).length,((null==r?void 0:r.mouseClicks)||[]).length,((null==r?void 0:r.scrollEvents)||[]).length,JSON.stringify(i).length,{mouseMovements:((null==r?void 0:r.mouseMovements)||[]).slice(0,2),mouseClicks:((null==r?void 0:r.mouseClicks)||[]).slice(0,2),scrollEvents:((null==r?void 0:r.scrollEvents)||[]).slice(0,2)}}catch(e){}return[4,fetch("".concat(e,"/api/next-captcha"),{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":n},body:JSON.stringify(i)})];case 1:if(!(a=d.sent()).ok)throw I.current=!1,new Error("HTTP error! status: ".concat(a.status));return[4,a.json()];case 2:c=d.sent(),l="undefined"!=typeof performance&&performance.now?performance.now():Date.now(),u=Math.round(l-t);try{({status:a.status,durationMs:u,next_captcha:null==c?void 0:c.next_captcha,captcha_type:null==c?void 0:c.captcha_type,confidence_score:null==c?void 0:c.confidence_score,ml_service_used:null==c?void 0:c.ml_service_used,is_bot_detected:null==c?void 0:c.is_bot_detected})}catch(e){}return"imagecaptcha"===c.next_captcha?s("image-captcha"):"handwritingcaptcha"===c.next_captcha?(g(Array.isArray(c.handwriting_samples)?c.handwriting_samples:[]),s("handwriting-captcha")):"abstractcaptcha"===c.next_captcha?s("abstract-captcha"):s("success"),I.current=!1,[3,4];case 3:return d.sent(),s("error"),h("서버 연결에 실패했습니다. 다시 시도해주세요."),I.current=!1,[3,4];case 4:return[2]}})})},N=function(){P()};return(0,l.jsx)("div",re({className:"captcha-container"},{children:"image-captcha"===c?(0,l.jsx)(M,{onSuccess:N}):"abstract-captcha"===c?(0,l.jsx)(V,{onSuccess:N}):"handwriting-captcha"===c?(0,l.jsx)(G,{onSuccess:N,samples:v}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",re({className:"captcha-button ".concat(c),onClick:function(e){"initial"===c&&m.current&&!m.current.contains(e.target)&&(e.target.closest(".refresh-button")||(s("error"),h("잘못된 선택입니다. 다시 확인해주세요.")))}},{children:[(0,l.jsxs)("div",re({className:"captcha-left"},{children:["initial"===c&&(0,l.jsx)("div",re({className:"checkbox",ref:m,onClick:j},{children:(0,l.jsx)("div",{className:"checkbox-inner"})})),"loading"===c&&(0,l.jsxs)("div",re({className:"loading-spinner"},{children:[(0,l.jsx)("div",{className:"spinner"}),(0,l.jsx)("span",re({className:"loading-text"},{children:"LOADING..."}))]})),"success"===c&&(0,l.jsx)("div",re({className:"success-check"},{children:(0,l.jsx)("svg",re({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"#4CAF50"})}))})),"error"===c&&(0,l.jsx)("div",re({className:"checkbox error",ref:m,onClick:j},{children:(0,l.jsx)("div",{className:"checkbox-inner error"})}))]})),(0,l.jsx)("div",re({className:"captcha-center"},{children:(0,l.jsx)("span",re({className:"captcha-text"},{children:"I'm not a robot"}))})),(0,l.jsx)("div",re({className:"captcha-right"},{children:(0,l.jsx)("button",re({className:"refresh-button",onClick:function(e){e.stopPropagation(),s("initial"),h("")}},{children:(0,l.jsx)("svg",re({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"#666"})}))}))}))]})),"error"===c&&d&&(0,l.jsx)("div",re({className:"error-message"},{children:d}))]})}))};var ce=function(){return ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ce.apply(this,arguments)},se=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((r=r.apply(e,t||[])).next())})},le=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},de=function(){function e(e){if(void 0===e&&(e={}),this.options=ce({siteKey:"",theme:"light",size:"normal",language:"ko",apiEndpoint:"https://api.realcatcha.com"},e),!this.options.siteKey)throw new Error("siteKey is required. Please provide your API key.")}return e.prototype.render=function(e,t){var n=this,r="string"==typeof e?document.getElementById(e):e;if(!r)throw new Error("Container with ID '".concat(e,"' not found"));var o=(0,s.H)(r),i=function(e){t&&"function"==typeof t&&t(e)};return o.render(c().createElement(ae,{onComplete:i,siteKey:this.options.siteKey,theme:this.options.theme,size:this.options.size,language:this.options.language,apiEndpoint:this.options.apiEndpoint})),{destroy:function(){o.unmount()},reset:function(){o.render(c().createElement(ae,{onComplete:i,siteKey:n.options.siteKey,theme:n.options.theme,size:n.options.size,language:n.options.language,apiEndpoint:n.options.apiEndpoint,key:Date.now()}))}}},e.prototype.configure=function(e){this.options=ce(ce({},this.options),e)},e}();"undefined"!=typeof window&&function(){se(this,void 0,void 0,function(){var e;return le(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,new Promise(function(e){var t=function(){window.React&&window.ReactDOM&&window.ReactDOM.createRoot?e():setTimeout(t,50)};t()})];case 1:return t.sent(),window.RealCaptcha=de,window.createRealCaptcha=function(e){return new de(e)},window.renderRealCaptcha=function(e,t,n){return new de(t).render(e,n)},window.REAL={init:function(e){var t=e.container,n=e.siteKey,r=e.callback,o=e["expired-callback"],i=ue(e,["container","siteKey","callback","expired-callback"]);if(!n)throw new Error("siteKey is required");if(!t)throw new Error("container is required");var a=new de(ce({siteKey:n},i)).render(t,r);return o&&(a.onExpired=o),a},reset:function(){window.__REAL_CURRENT_INSTANCE__&&window.__REAL_CURRENT_INSTANCE__.reset()}},window.__REAL_PENDING_INIT__&&(e=window.__REAL_PENDING_INIT__,delete window.__REAL_PENDING_INIT__,window.REAL.init(e)),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})})}();const he=de;return i})());